<div class="login-page">
  <div class="content">
      <!-- <h1 class="app-name">Sb Admin Material</h1> -->
      <form class="login-form" fxFlex  >
          <div class="text-center">
              <h2 >Changer votre Mot de pass avant de continuer</h2>
          </div>
          <div *ngIf="errorMesage" class="btn btn-danger">
            <span>{{message}}</span>
          </div>
          <div  fxFlex  fxlayout="row" fxlayout.lt-md="column">
              <div fxFlexFill>
                  <mat-form-field class=" w-100 md-form"> 
                      <input [ngModelOptions]="{standalone: true}" [(ngModel)]="currentPassword"  matInput type="password" placeholder="Mots de pass actuel">
                  </mat-form-field>
              </div>
          </div>
          <div  fxFlex  fxLayout="row" fxLayout.lt-md="column">
              <div fxFlexFill>
                  <mat-form-field class="w-100 md-form"> 
                      <input [ngModelOptions]="{standalone: true}" [(ngModel)]="newPassword"  matInput type="password" placeholder="Nouveu Mot de pass">
                  </mat-form-field>
              </div>
          </div>
          <div  fxFlex  fxLayout="row" fxLayout.lt-md="column">
              <div fxFlexFill>
                  <mat-form-field class="w-100 md-form">
                      <input [ngModelOptions]="{standalone: true}" [(ngModel)]="confirmNewPassword" matInput type="password" placeholder="Confirmer mots depass">
                  </mat-form-field>
              </div>
          </div>

          <div  fxFlex  fxLayout="row" fxLayout.lt-md="column">
              <div fxFlexFill>
                  <button mat-raised-button [disabled]="!this.currentPassword || !this.newPassword || !this.confirmNewPassword" color="primary" class="w-100" (click)="changePassword()">Valider</button>
              </div>
          </div>
      </form>
  </div>
</div>
<div *ngIf="loading">
    <div style="position: absolute ; left: 15%; top:25%; min-width: 100rem ; min-height: 40rem ;text-align: -webkit-center; padding-top: 10%; z-index:1000; background-color: white; opacity: 0.4;">
        <div class="loader">
          <div class="ball-pulse">
            <div></div>
            <div></div>
            <div></div>
          </div>
        </div>  
      </div>
</div>